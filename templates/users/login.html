{% extends "base-fullscreen.html" %}

{% block title %} Login {% endblock %}

{% block content %}   
{% if messages %}{% for message in messages %}

<div  id="message"  class="mt-30 alert align-middle alert-{{message.tags}}">

    <span class="align-middle"> {{message}}</span>
</div>
{% endfor %}{% endif %}

    <div class="auth-wrapper">
        <div class="auth-content">
            <div class="auth-bg">
                <span class="r"></span>
                <span class="r s"></span>
                <span class="r s"></span>
                <span class="r"></span>
            </div>
            <div class="card">
                <div class="card-body text-center">

                    <h3 class="mb-4">Login</h3>

                    <span class="mb-0 text-muted">
                        {% if msg %}
                            <span class="text-danger">{{ msg | safe }}</span>
                        {% else %}
                            Add your credentials
                        {% endif %} 
                    </span>

                    <br/>
                    <br/>

                    {% comment %} <form role="form" method="post" action="">
                        {% csrf_token %}                   
                        <div class="input-group mb-3">
                            <input type="username" class="form-control" placeholder="username" name="username">
                        </div>
                        
                        <div class="input-group mb-4">
                            <input type="password" class="form-control" placeholder="Password" name="password">
                        </div>
                        
                        <button type="submit" name="login" class="btn btn-primary shadow-2 mb-4">Login</button>
                    </form> {% endcomment %}

                    <form role="form" method="post" action="" onsubmit="return validateLoginForm();">
                        {% csrf_token %}
                    
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Username" name="username" id="username">
                            <div id="username-error" class="invalid-feedback"></div>
                        </div>
                    
                        <div class="input-group mb-4">
                            <input type="password" class="form-control" placeholder="Password" name="password" id="password">
                            <div id="password-error" class="invalid-feedback"></div>
                        </div>
                    
                        <button type="submit" name="login" class="btn btn-primary shadow-2 mb-4">Login</button>
                    </form>

                    <br />

                </div>
            </div>
        </div>
    </div>
    <script>
        function validateLoginForm() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            let isValid = true;
    
            // Validate username
            if (!username.trim()) {
                document.getElementById("username").classList.add("is-invalid");
                document.getElementById("username-error").textContent = "Username is required";
                isValid = false;
            } else {
                document.getElementById("username").classList.remove("is-invalid");
                document.getElementById("username-error").textContent = "";
            }
    
            // Validate password
            if (!password.trim()) {
                document.getElementById("password").classList.add("is-invalid");
                document.getElementById("password-error").textContent = "Password is required";
                isValid = false;
            } else {
                document.getElementById("password").classList.remove("is-invalid");
                document.getElementById("password-error").textContent = "";
            }
    
            return isValid;
        }
    </script>


{% endblock content %}
